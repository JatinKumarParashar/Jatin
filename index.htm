
<!DOCTYPE html>
<html>
    <head>Page title</head>
<body>
    <header id="main-header">
      <div class="container">
        <h1 id="header-title">Booking App </h1>
        <input type="text" id="filter" placeholder="search here..." />
      </div>
    </header>
    <div class="container">
     <div id="main">
      <h id="add" class="title">Booking</h>
      <form onsubmit="saveItem(event)" class="form-inline mb-3" id="addForm">
        <label>Name:</label>
        <input type="text" class="form-control mr-2" id="item">
        <label>Email ID:</label>
        <input type="text" class="form-control mr-2" id="discription" />
        <input type="submit" class="btn btn-dark" value="Submit">
      </form>
      
      <h2 class="title">Items</h2>
      <ul id="items" class="list-group">
       <!-- <li class="list-group-item">Item 1<button class="btn btn-sm float right
          delete">x</button><button class="edit">Edit</button><br><p class="d">This is item 1</p></li>
        <li class="list-group-item">Item 2 <button class="btn btn-sm float right
          delete">x</button><button class="edit">Edit</button><br><p class="d">This is Item 2</p></li>
        <li class="list-group-item">Item 3 <button class="btn btn-sm float right
          delete">x</button><button class="edit">Edit</button><br><p class="d">This is item 3</p></li>
        <li class="list-group-item">Item 4 <button class="btn btn-sm float right
          delete">x</button><button class="edit">Edit</button><br><p class="d">This is item 4</p></li>
        --> </ul>
     </div>
    </div>
    <script>
   var form=document.getElementById('addForm');
var itemlist=document.getElementById('items');
var filter=document.getElementById('filter');
itemlist.addEventListener('click',removeitem);
filter.addEventListener('keyup',filteritems);

function saveItem(event){
    event.preventDefault();
    const newitem=event.target.item.value;
    const dis=event.target.discription.value;
    var obj={
        newitem,
        dis
    }
    localStorage.setItem(dis,JSON.stringify(obj));
    showUsreOnScreen(obj);
}
function showUsreOnScreen(user){
    var parent=document.getElementById('items');
    var childHTML=`<li> ${user.newitem} <button class="btn btn-sm float right
    delete"> x</button> <br> ${user.dis}`;
    parent.innerHTML=parent.innerHTML+childHTML;
}
window.addEventListener('DOMContentLoaded',saved);
function saved(e){
Object.keys(localStorage).forEach(fun);
  
} 
function fun(key){
    stringifiedDetailsOfPeople = localStorage.getItem(key);

    detailsOfPeople = JSON.parse(stringifiedDetailsOfPeople);
    showUsreOnScreen(detailsOfPeople); 

}

function removeitem(e){
    if(e.target.classList.contains('delete')){
        if(confirm('Are you sure?')){
            var li=e.target.parentElement;
            itemlist.removeChild(li);
        }
    }
}

function filteritems(e){
   var text=e.target.value.toLowerCase();
  var item=itemlist.getElementsByTagName('li');
  Array.from(item).forEach(function(item){
    var itemName=item.firstChild.textContent;
    var di=item.lastChild.textContent;
    if(itemName.toLowerCase().indexOf(text)!=-1||di.toLowerCase().indexOf(text)!=-1)
    {
        item.style.display='list-item';
    }
    else{
        item.style.display='none';
    }
  });
  
}
</script>
  
  </body>
  </html>
